MKNOD(2)		    BSD System Calls Manual		      MKNOD(2)

NNAAMMEE
     mmkknnoodd -- make a special file node

SSYYNNOOPPSSIISS
     ##iinncclluuddee <<ssyyss//ssttaatt..hh>>

     _i_n_t
     mmkknnoodd(_c_o_n_s_t _c_h_a_r _*_p_a_t_h, _m_o_d_e___t _m_o_d_e, _d_e_v___t _d_e_v);

DDEESSCCRRIIPPTTIIOONN
     The device special file _p_a_t_h is created with the major and minor device
     numbers extracted from _m_o_d_e.  The access permissions of _p_a_t_h are con-
     strained by the umask(2) of the parent process.

     If _m_o_d_e indicates a block or character special file, _d_e_v is a configura-
     tion-dependent specification of a character or block I/O device and the
     superblock of the device.	If _m_o_d_e does not indicate a block special or
     character special device, _d_e_v is ignored.

     MMkknnoodd() requires super-user privileges.

RREETTUURRNN VVAALLUUEESS
     Upon successful completion, a value of 0 is returned.  Otherwise, a value
     of -1 is returned and _e_r_r_n_o is set to indicate the error.

EERRRROORRSS
     MMkknnoodd() will fail and the file will be not created if:

     [EACCES]		Search permission is denied for a component of the
			path prefix.

     [EACCES]		Write permission is denied for the parent directory.

     [EDQUOT]		The directory in which the entry for the new node is
			being placed cannot be extended; the user's quota of
			disk blocks on the file system containing the direc-
			tory has been exhausted.

     [EDQUOT]		The user's quota of inodes for the file system on
			which the node is being created has been exhausted.

     [EEXIST]		The named file exists.

     [EFAULT]		_P_a_t_h points outside the process's allocated address
			space.

     [EINVAL]		One or more of the arguments is invalid.

     [EIO]		An I/O error occurs while making the directory entry
			or allocating the inode.

     [ELOOP]		Too many symbolic links were encountered in translat-
			ing the pathname.  This is taken to be indicative of a
			looping symbolic link.

     [ENAMETOOLONG]	A component of a pathname exceeds {NAME_MAX} charac-
			ters or an entire path name exceeds {PATH_MAX} charac-
			ters.

     [ENOENT]		A component of the path prefix does not exist or path
			is an empty string.

     [ENOSPC]		The directory in which the entry for the new node is
			being placed cannot be extended, because there is no
			space left on the file system containing the direc-
			tory.

     [ENOSPC]		There are no free inodes on the file system on which
			the node is being created.

     [ENOTDIR]		A component of the path prefix is not a directory.

     [EPERM]		The process's effective user ID is not super-user.

     [EROFS]		The created node would reside on a read-only file sys-
			tem.

LLEEGGAACCYY SSYYNNOOPPSSIISS
     ##iinncclluuddee <<uunniissttdd..hh>>

     The include file has changed.

SSEEEE AALLSSOO
     chmod(2), stat(2), umask(2), compat(5)

HHIISSTTOORRYY
     A mmkknnoodd() function call appeared in Version 6 AT&T UNIX.

4th Berkeley Distribution	 June 4, 1993	     4th Berkeley Distribution
